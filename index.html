<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
   <link rel="stylesheet" href="a.css">    
    <title>Document</title>
</head>

<body>
    <div class="container">

        <form class="forms " id="form">
            <h3>Contact Form</h3>
            <div class="form-control">
                <label>Name</label>
                <input type="text" id="username" />
                <span class="error"></span>
            </div>
            <div class="form-control">              
                <label>Email</label>
                <input type="text" id="email"  placeholder="ex:xyz12@gmail.com"/>
                <span class="error"></span>
            </div>
            <div class="form-control">
                <label>Message</label>
                <input type="text" id="msg" />
                <span class="error"></span>
            </div>
            
            <input type="submit" id="btn" value="Submit"/>
            

        </form>
    </div>

</body>
    <script >


        const form= document.getElementById("form");
        const username =document.getElementById("username");
        const email= document.getElementById("email");
        const msg =document.getElementById("msg");
        const submit= document.getElementById("btn");


        /* Adding event Listener for submit button */

        form.addEventListener('submit',(e)=>{
            e.preventDefault();
            validateInput();
        });

        /* VALIDATE FUNCTION */

        const validateInput=()=>{

            /* TRIMMING ALL VALUES */
            let isvalid=true;
            const usernamevalue =username.value.trim();
            const emailvalue = email.value.trim();
            const msgvalue=msg.value.trim();

            if(usernamevalue ===''){
                setError(username,'Username is required');
             isvalid=false;}
                 else if (!isname(usernamevalue)) {
        setError(username, 'Name should only contain letters');
                 isvalid=false;}
                else{
                    setSuccess(username);
                }

            if(emailvalue === '') {
                    setError(email, 'Email is required');
                isvalid=false;
                } 
                    else if (!isValidEmail(emailvalue)) {
                    setError(email, 'Provide a valid email address');
                        isvalid=false;
                }            else {
                               setSuccess(email);
                } 
            
        
         if(msgvalue ===''){
                setError(msg,'Please write something');
         isvalid=false;}
            
                else{
                    setSuccess(msg);
                } 
            return isvalid;

    
        

        }
            

  const setError = (element, message) => {
    const inputControl = element.parentElement;
    const errorDisplay = inputControl.querySelector('.error'); 

    errorDisplay.innerText = message; 
    inputControl.classList.add('error'); 
    inputControl.classList.remove('success'); 
};

const setSuccess = (element) => {
    const inputControl = element.parentElement; 
    const errorDisplay = inputControl.querySelector('.error'); 

    errorDisplay.innerText = ''; 
    inputControl.classList.add('success'); 
    inputControl.classList.remove('error'); 
   
};

         if(isvalid){
    alert('Submitted Successfully');}
        
        
        const isValidEmail = (email) => {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        };
        const isname=(username)=>{
            return /^[a-zA-Z+]+(?: [a-zA-Z]+)*$/.test(username)
        }
        

        
    </script>


</html>
